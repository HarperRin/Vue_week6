{"version":3,"file":"js/365.873e3c5d.js","mappings":"+TACEA,EAAAA,EAAAA,IAAmCC,IACnCD,EAAAA,EAAAA,IAAyCE,EAAA,CAA9BC,OAAQC,EAAAA,WAAS,mBACTA,EAAAA,eAAAA,EAAAA,EAAAA,OAAnBC,EAAAA,EAAAA,IAA+CC,EAAA,CAAAC,IAAAA,MAA/C,oB,uBCFKC,MAAM,+C,GACJA,MAAM,mB,WACqC,O,GAC9CC,EAAAA,EAAAA,GAWS,UAVPD,MAAM,iBACNE,KAAK,SACL,iBAAe,WACf,iBAAe,aACf,gBAAc,YACd,gBAAc,QACd,aAAW,qBAPb,UAQC,QAECD,EAAAA,EAAAA,GAAyC,QAAnCD,MAAM,0BAVd,G,GAYKA,MAAM,2BAA2BG,GAAG,a,GACnCH,MAAM,c,GACJA,MAAM,Y,WACoC,Q,GAE1CA,MAAM,Y,WAEL,Q,GAGDA,MAAM,Y,WAEL,Q,GAGDA,MAAM,Y,0EA9BlBI,EAAAA,EAAAA,IAoCM,MApCN,EAoCM,EAnCJH,EAAAA,EAAAA,GAkCM,MAlCN,EAkCM,EAjCJT,EAAAA,EAAAA,IAA+Da,EAAA,CAAlDL,MAAM,eAAeM,GAAG,UAArC,C,kBAA8C,IAAG,M,MACjDC,GAYAN,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,EAlBJA,EAAAA,EAAAA,GAiBK,KAjBL,EAiBK,EAhBHA,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHT,EAAAA,EAAAA,IAA8Da,EAAA,CAAjDL,MAAM,kBAAkBM,GAAG,KAAxC,C,kBAA4C,IAAI,M,SAElDL,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHT,EAAAA,EAAAA,IAECa,EAAA,CAFYL,MAAM,WAAWM,GAAG,mBAAjC,C,kBACG,IAAI,M,SAGTL,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHT,EAAAA,EAAAA,IAECa,EAAA,CAFYL,MAAM,WAAWM,GAAG,iBAAjC,C,kBACG,IAAI,M,SAGTL,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHA,EAAAA,EAAAA,GAA4D,KAAzDD,MAAM,WAAWQ,KAAK,IAAKC,QAAK,8BAAUC,EAAAA,SAAAA,EAAAA,WAAAA,IAAO,eAAE,gBASlE,OACEC,QAAS,CACPC,UACEC,SAASC,OAAS,sBAClBC,MAAM,aACNC,KAAKC,QAAQC,KAAK,gB,UCzCxB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFEA,GACEC,WAAY,CACVC,gBAAAA,GAEFC,OACE,MAAO,CACLC,cAAc,EACdC,WAAW,IAGfb,QAAS,CACPc,aACE,MAAMC,EAAQb,SAASC,OAAOa,QAC5B,iDACA,MAEF,GAAID,EAAO,CACTV,KAAKQ,WAAY,EACjBR,KAAKY,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,GAAEN,IACtD,MAAMO,EAAO,yDACbjB,KAAKY,MACFM,KAAKD,GACLE,MAAK,KAGJnB,KAAKO,cAAe,EACpBP,KAAKQ,WAAY,KAElBY,OAAOC,IACNtB,MAAMsB,EAAIf,KAAKgB,SACftB,KAAKC,QAAQC,KAAK,kBAGtBH,MAAM,UACNC,KAAKC,QAAQC,KAAK,YAIxBqB,UACEvB,KAAKS,eG3CT,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASe,KAEpE","sources":["webpack://vue_week6/./src/views/DashboardView.vue","webpack://vue_week6/./src/components/DashboardNavbar.vue","webpack://vue_week6/./src/components/DashboardNavbar.vue?7e81","webpack://vue_week6/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <DashboardNavbar></DashboardNavbar>\n  <VLoading :active=\"isLoading\"></VLoading>\n  <router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\nimport DashboardNavbar from \"@/components/DashboardNavbar.vue\";\n\nexport default {\n  components: {\n    DashboardNavbar,\n  },\n  data() {\n    return {\n      checkSuccess: false,\n      isLoading: false,\n    };\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        \"$1\"\n      );\n      if (token) {\n        this.isLoading = true;\n        this.$http.defaults.headers.common.Authorization = `${token}`;\n        const api = `${process.env.VUE_APP_API}api/user/check`;\n        this.$http\n          .post(api)\n          .then(() => {\n            // 如果是登入狀態才允許轉到後台產品頁面，取得產品資料\n            // 如果不是登入狀態會跳出警示，並將使用者導回登入頁面\n            this.checkSuccess = true;\n            this.isLoading = false;\n          })\n          .catch((err) => {\n            alert(err.data.message);\n            this.$router.push(\"/login\");\n          });\n      } else {\n        alert(\"您尚未登入。\");\n        this.$router.push(\"/login\");\n      }\n    },\n  },\n  mounted() {\n    this.checkLogin();\n  },\n};\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/admin\">蛋糕坊</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link active\" to=\"/\">返回前台</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/products\"\n              >產品列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/orders\"\n              >訂單列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" @click.prevent=\"signout\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nexport default {\n  methods: {\n    signout() {\n      document.cookie = \"hexToken=;expires=;\";\n      alert(\"token 已清除\");\n      this.$router.push(\"/products\");\n    },\n  },\n};\n</script>\n","import { render } from \"./DashboardNavbar.vue?vue&type=template&id=77777320\"\nimport script from \"./DashboardNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Downloads/Vue projects/vue_week6/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashboardView.vue?vue&type=template&id=93106b90\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Downloads/Vue projects/vue_week6/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createVNode","_component_DashboardNavbar","_component_VLoading","active","$data","_createBlock","_component_router_view","key","class","_createElementVNode","type","id","_createElementBlock","_component_router_link","to","_hoisted_4","href","onClick","$options","methods","signout","document","cookie","alert","this","$router","push","__exports__","components","DashboardNavbar","data","checkSuccess","isLoading","checkLogin","token","replace","$http","defaults","headers","common","Authorization","api","post","then","catch","err","message","mounted","render"],"sourceRoot":""}