"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[513],{1530:function(t,a,n){function e(t){return{all:t=t||new Map,on:function(a,n){var e=t.get(a);e?e.push(n):t.set(a,[n])},off:function(a,n){var e=t.get(a);e&&(n?e.splice(e.indexOf(n)>>>0,1):t.set(a,[]))},emit:function(a,n){var e=t.get(a);e&&e.slice().map((function(t){t(n)})),(e=t.get("*"))&&e.slice().map((function(t){t(a,n)}))}}}n.d(a,{Z:function(){return r}});const s=e();var r=s},2513:function(t,a,n){n.r(a),n.d(a,{default:function(){return y}});var e=n(6252);function s(t,a,n,s,r,c){const i=(0,e.up)("FrontNavbar"),l=(0,e.up)("router-view");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(i),(0,e.Wm)(l)],64)}var r=n(3577);const c={class:"navbar navbar-expand-lg navbar-light bg-light"},i={class:"container-fluid"},l=(0,e.Uk)("蛋糕坊"),o={class:"collapse navbar-collapse",id:"navbarSupportedContent"},u={class:"navbar-nav me-auto mb-2 mb-lg-0"},h={class:"nav-item"},d=(0,e.Uk)("首頁"),v={class:"nav-item"},p=(0,e.Uk)("產品列表"),g={class:"nav-item"},f=(0,e.Uk)("購物車"),m={class:"nav-item"},b=(0,e.Uk)("登入後台"),k=(0,e.Uk)(" 查看購物車 "),w={key:0,class:"badge rounded-pill bg-danger"};function _(t,a,n,s,_,C){const L=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("nav",c,[(0,e._)("div",i,[(0,e.Wm)(L,{class:"navbar-brand",to:"/"},{default:(0,e.w5)((()=>[l])),_:1}),(0,e._)("div",o,[(0,e._)("ul",u,[(0,e._)("li",h,[(0,e.Wm)(L,{class:"nav-link",to:"/"},{default:(0,e.w5)((()=>[d])),_:1})]),(0,e._)("li",v,[(0,e.Wm)(L,{class:"nav-link",to:"/products"},{default:(0,e.w5)((()=>[p])),_:1})]),(0,e._)("li",g,[(0,e.Wm)(L,{class:"nav-link",to:"/cart"},{default:(0,e.w5)((()=>[f])),_:1})]),(0,e._)("li",m,[(0,e.Wm)(L,{class:"nav-link",to:"/admin/products"},{default:(0,e.w5)((()=>[b])),_:1})])])]),(0,e.Wm)(L,{class:"btn btn-primary",to:"/cart"},{default:(0,e.w5)((()=>[k,_.cartData.carts.length>0?((0,e.wg)(),(0,e.iD)("span",w,(0,r.zw)(_.cartLength),1)):(0,e.kq)("",!0)])),_:1})])])}var C=n(1530),L={data(){return{cartData:{carts:[]},cartLength:0}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/v2/api/hlin-hexschool/cart";this.$http.get(t).then((t=>{this.cartData=t.data.data})).catch((t=>{alert(t.data.message)}))},updateCartLength(){const t="https://vue3-course-api.hexschool.io/v2/api/hlin-hexschool/cart";this.$http.get(t).then((t=>{if(t.data.success){let a=0;this.cartLength=t.data.data.carts.forEach((t=>{a+=t.qty})),this.cartLength=a}})).catch((()=>{alert("錯誤")}))}},mounted(){this.getCart(),this.updateCartLength(),C.Z.on("cart-length",(t=>{this.getCart(),this.cartLength=t,this.updateCartLength()}))}},W=n(3744);const x=(0,W.Z)(L,[["render",_]]);var D=x,U={components:{FrontNavbar:D}};const Z=(0,W.Z)(U,[["render",s]]);var y=Z}}]);
//# sourceMappingURL=513.76e8811e.js.map